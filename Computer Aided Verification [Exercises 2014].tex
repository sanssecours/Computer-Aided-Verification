%!TEX TS-program = xelatex

% -- Document Class -----------------------------------------------------------

\documentclass[a4paper, 12pt]{article}

% -- Imports ------------------------------------------------------------------

% Common packages
\input{TeX/packages}
% Document specific packages
\input{TeX/document_packages}
% Document specific properties
\input{TeX/document_properties}
% Custom macros
\input{TeX/macros}

% -- Document -----------------------------------------------------------------

\begin{document}
\input{TeX/document_start}

% -- Text ---------------------------------------------------------------------

\section{Exercise 1}

\newcommand{\LFP}{\mathbf{lfp}~Z~[Ï„(Z)]}
\newcommand{\GFP}{\mathbf{gfp}~Z~[Ï„(Z)]}

Show the results about $\mathbf{lfp}$ on slides 4 and 5 of â€œalecture3.pdfâ€.

\paragraph{Slide 4}

Let $Ï„: Pred(S) â†’ Pred(S)$ be a predicate transformer, then:

\begin{enumerate}

    \item If $Ï„$ is monotonic then it has a least fixed-point $\LFP$, and a greatest fixed-point $\GFP$.

    \item $\LFP = âˆ©\{ Z âˆ£ Ï„(Z) = Z \}$ whenever $Ï„$ is monotonic.

    \item $\LFP = âˆªáµ¢Ï„â±(False)$ whenever $Ï„$ is also $âˆª$-continuous;

    \item $\GFP = âˆª\{ Z âˆ£ Ï„(Z) = Z \}$ whenever $Ï„$ is monotonic.

    \item $\GFP = âˆ©áµ¢Ï„â±(True)$ whenever $Ï„$ is also $âˆª$-continuous;

\end{enumerate}

\paragraph{Slide 5}

Let $M$ be a finite Kripke structure and let $Ï„$ be a monotonic predicate transformer on $S$.

\begin{enumerate}

    \item The functional $Ï„$ is both $âˆª$-continuous and $âˆ©$-continuous.

    \item For every $i$, $Ï„â±(False) âŠ† Ï„â±âºÂ¹(False)$ and $Ï„â±(True) âŠ‡ Ï„â±âºÂ¹(True)$.

    \item There is an integer $iâ‚€$ such that for every $jâ‰¥iâ‚€$, $Ï„^j(False) = Ï„^{iâ‚€}(False)$. There is an integer $jâ‚€$ such that for every $jâ‰¥jâ‚€$, $Ï„^j(True) = Ï„^{jâ‚€}(True)$.

    \item There is an integer $iâ‚€$ such that $\LFP$ is $Ï„^{iâ‚€}(False)$. There is an integer $jâ‚€$ such that $\GFP$ is $Ï„^{jâ‚€}(True)$.

\end{enumerate}

\subsection{Solution}

\subsubsection{Slide 4}

\paragraph{Existence of the Fixed Points}

\begin{sloppypar}
We show that if $Ï„$ is monotonic, then there exists a least fixed point. We use the same arguments as an article on â€œMathematics Stack Exchangeâ€~\cite{GitGud2013CompleteLatticeMonotoneFunction}. We define the following set:
\end{sloppypar}
\[
    A = \left\{ Z âˆ£ Ï„(Z) âŠ† Z \right\}
\]
We now take the intersection of all elements in $A$: $Î± = âˆ©A$ and prove that $Ï„(Î±)$ is a lower bound of $A$. Let $Z$ be any element of $A$. Since $Ï„$ is monotone we have that $Î± âŠ† Z$ implies $Ï„(Î±) âŠ† Ï„(Z)$. By definition $Ï„(Z) âŠ† Z$ therefore we have $Ï„(Î±) âŠ† Z$. Since we took an arbitrary element $Z$ from $A$ we have that $Ï„(Î±)$ is an lower bound of $A$ and therefore $\color{orange}{Ï„(Î±) âŠ† Î±}$.\\

We use the last fact together with the monotonicity of $Ï„$ to get $Ï„(Ï„(Î±)) âŠ† Ï„(Î±)$. Therefore we have $Ï„(Î±) âˆˆ A$ and thus $\color{orange}{Î± âŠ† Ï„(Î±)}$.\\

We have found a fixed point: $Ï„(Î±) = Î±$. This fixed point is the least fixed point by construction. The proof for the existence for the greatest fixed point is basically the same, using intersection instead of union and $âŠ‡$ instead of $âŠ†$.\\

We now show that $Î² = âˆ©\{ Z âˆ£ Ï„(Z) = Z \}$ is a least fixed point of $Ï„$. We already proved that $Î± = âˆ©\{ Z âˆ£ Ï„(Z) âŠ† Z \}$ is a least fixed point. Clearly $Î² âŠ† Î±$. We now need to show that $Î²$ is indeed a fixed pointâ€¦

\subsubsection{Slide 5}

\paragraph{Calculating the Fixed Point By Applying Ï„ Multiple Times}

We show that $\LFP = Ï„â±(False)$. We start by applying $Ï„$ on $False$ once. Since $False$ is the smallest element of the lattice we have $False âŠ† Ï„(False)$. From the monotonicity of $Ï„$ we derive $Ï„(False) âŠ† Ï„(Ï„(False))$. This leads to the increasing chain:
\[
    False âŠ† Ï„(False) âŠ† Ï„Â²(False)â€¦ âŠ† Ï„â±(False) = Ï„â±âºÂ¹(False)
\]
The last equation follows from the fact that we work we assume a finite set of $i$ states. Between one application of $Ï„â¿(False)$ and $Ï„â¿âºÂ¹(False)$ at least one additional state will be matched by the predicate or we have $Ï„â¿(False) = Ï„â¿âºÂ¹(False) = â€¦ = Ï„â±(False)$. We have found the least fixed point of $Ï„$.\\

We can use exactly the same arguments for finding the greatest fixed point, except that we derive a descending chain starting with $Ï„(True) âŠ† True$. This will lead us to the greatest fixed point in at most $i+1$ steps.

The results above showed us that lemmas 2, 3 and 4 on slide 5 hold.

\paragraph{$ğœ$ is both $âˆª$-continuous and $âˆ©$-continuous} We show that $Ï„$ is $âˆª$-continuous. We assume $Pâ‚ âŠ† Pâ‚‚ âŠ† Pâ‚ƒ âŠ† â€¦ âŠ† P_n$. Since $P_n$ contains all other sets we have $âˆªáµ¢Páµ¢=P_n$. If we now apply $Ï„$ we get $Ï„[âˆªáµ¢Páµ¢] = Ï„[P_n]$.\\

If we apply $Ï„$ on each set and take the union we have $Ï„(Pâ‚) ~âˆª~ Ï„(Pâ‚‚) ~âˆª~ â€¦ âˆª~ Ï„(P_n)$. Since $Ï„$ is a monotone function we have $Pâ‚ âŠ† Pâ‚‚ âŠ† Pâ‚ƒ âŠ† â€¦ âŠ† P_n â‡’ Ï„(Pâ‚) âŠ† Ï„(Pâ‚‚) âŠ† â€¦ âŠ† Ï„(P_n)$. From this we get that the union of $Ï„(Pâ‚) ~âˆª~ Ï„(Pâ‚‚) ~âˆª~ â€¦ ~âˆª~ Ï„(P_n)$ is the same as $Ï„[P_n]$. Therefore we have
$Ï„[âˆªáµ¢Páµ¢] = âˆªáµ¢Ï„[Páµ¢]$. This shows that $Ï„$ is a continuous function.

\section{Exercise 2}

Show that no LTL formula can express $AG EF p$.

\subsection{Solution}

We use the proof described on page 219 of the book â€œLogic in Computer Scienceâ€~\cite{Huth2004logic}. We assume that there is a LTL formula $A[Ï†]$ which is equivalent to the CTL formula $AG EF p$. The CTL formula $sâ‚€ âŠ§ AG EF p$ holds in the model $ğ“œ$ shown in Figure~\ref{figure:State_Diagram_AGEFp}. Therefore $sâ‚€ âŠ§ A[Ï†]$ also holds in model $ğ“œ$. Since $A[Ï†]$ holds in $sâ‚€$ of the model $ğ“œ$ it also needs to be satisfied in $sâ‚€$ of $ğ“œâ€™$, which only contains a subset of the paths of $ğ“œ$. Since this is not the case we have a contradiction and therefore have shown that there is not LTL formula equivalent to $AG EF p$.

\begin{figure}[htbp]
    \caption{Two state diagrams showing the models $ğ“œ$ and $ğ“œâ€™$}
    \vskip 0.2cm
    \centering
    \includegraphics[width=1\textwidth]{Figures/State Diagram AGEFp}
    \label{figure:State_Diagram_AGEFp}
\end{figure}

% -- Bibliography -------------------------------------------------------------

\input{TeX/document_bibliography}
\end{document}
